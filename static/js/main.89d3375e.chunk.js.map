{"version":3,"sources":["Models/heston.js","modelSkeleton.js","Models/advanced.js","Models/bs.js","Actions/actionDefinitions.js","Forms/progressReducer.js","Forms/rangeReducer.js","Utils/utils.js","Forms/formReducer.js","Utils/constants.js","appSkeleton.js","Utils/mertonUtils.js","Graphs/graphReducer.js","Reducers/index.js","Graphs/Graphs.js","Graphs/Algorithms.js","Graphs/Density.js","Actions/lambda.js","Utils/conversionUtils.js","LoadData.js","Forms/globalOptions.js","Forms/HelperComponents/FormHelper.js","Actions/parameters.js","Forms/reduxInjections.js","Forms/helperValidators.js","Forms/Settings/InputSettings.js","Forms/HelperComponents/CommonInputs.js","Forms/Calculator/InputCalculator.js","Forms/Calibrator/OptionMaturities.js","Forms/Calibrator/OptionPrices.js","Forms/Calibrator/OptionMSE.js","Forms/Calibrator/InputCalibrator.js","Forms/ShowJSON/ShowJson.js","Forms/ModelForm.js","Forms/ModalInputs.js","Forms/QuantileInputs.js","Cards/CardPlot.js","App.js","Routes/routeDefinitions.js","index.js"],"names":["convertHestonToCustomSig","b","Math","sqrt","convertHestonToCustomV0","v0","convertCustomToHestonC","ada","sig","convertCustomToHestonV0","model","name","label","parameters","defVal","key","toolTip","feature","hestonToAdvanced","_ref","c","adaV","meanVol","rest","Object","objectWithoutProperties","objectSpread","sigma","advancedToheston","_ref2","modelMap","advancedToAdvanced","advancedToadvanced","bsToAdvanced","bsParams","advancedTobs","heston","createActionType","optionType","sensitivity","algorithm","concat","toUpperCase","createOptionReplaceAll","modelType","createOptionReplaceSome","createOptionType","createValidationType","generateNotify","type","state","arguments","length","undefined","action","value","combineReducers","isMaturityInProgress","isCalibationInProgress","isGetOptionsInProgress","isCalculationInProgress","currentRange","_action$value","slicedToArray","lower","upper","defineProperty","data","defaultRange","f","a","apply","toConsumableArray","map","d","e","upperFirstLetter","string","substring","defaultOptionValues","prices","k","ticker","maturity","minRelativeBidAskSpread","minOpenInterest","maturityOptions","defaultOptionValuesValidation","defaultFormValidationStatus","numU","r","T","S0","muJ","sigJ","lambda","speed","rho","reduce","aggr","curr","_objectSpread6","paramName","defaultState","defaultKey","generateValidation","quantile","range","progress","optionValues","invalidTicker","optionValuesValidation","sensitivities","optionTypes","algorithms","excludeFrom","carrmadan","appSkeleton","cartesian","_len","Array","_key","filter","maybeArr","maybeInArr","indexOf","keySkeleton","_ref3","arr","val","_ref4","getDomain","mertonVol","vol","expReturn","exp","fangoostName","carrMadanName","fstsName","actionDomainFactory","actionType","_getDomain","getMiddleByVal","generateAlgorithmState","factory","fangoost","slice","fsts","actionVaRFactory","defState","riskMetrics","VaR","ES","density","spline","curve","points","form","graph","callStyle","stroke","putStyle","legendOption","symbol","fill","axisStyleOption","axisLabel","padding","axisStyleIV","OptionCurves","call","put","title","xLabel","yLabel","marketData","react_default","createElement","victory_chart","domainPadding","containerComponent","victory_voronoi_container","labels","y","x","victory_legend","orientation","gutter","victory_label","text","victory_scatter","victory_line","style","interpolation","victory_axis","dependentAxis","IVCurves","getMax","cur","getVar","SplineCurves","fangOostName","putName","priceName","hasAtLeastIndex","index","generateMarketData","strikes","strike","price","getMarketDataFromStrikeAndPrice","generateAlgorithmOptionPrices","connect","Component","initState","getUniqueArray","aggrState","_objectSpread2","generateIVState","_ref5","fangOostInitState","carrMadanInitState","fstsInitState","FangOost","IV","CarrMadan","FSTS","generateHelp","_ref6","history","modal","visible","onOk","goBack","onCancel","fangOostHelp","target","rel","href","carrMadanHelp","fstsHelp","FangOostHelp","CarrMadanHelp","FSTSHelp","Density","createUrl","urlParams","join","getOptionUrl","params","fetch","method","body","JSON","stringify","createBody","then","response","json","getDefaultUrl","_len2","_key2","getDData","section","parms","dispatch","getVaRData","getDensity","getCalculation","forEach","row","generateConvertSpecificToAdvanced","generateConvertAdvancedToSpecific","getParametersByFeature","chosenFeature","getCalculationParameters","LoadData","this","props","onLoad","getRangeData","flexObj","xs","md","formItemLayoutLabel","labelCol","span","wrapperCol","fullWidth","width","onChangeHelper","getV","onChange","validator","objKey","isValid","fn","FormItem","Form","Item","Option","Select","parseArrOrNumber","isArray","fixedVal","round","toFixed","onSelectHelper","parseFloat","CustomNumberDrop","options","multiSelect","tooltip","placement","es_select","mode","option","CustomFormItemGeneric","CustInput","validationResults","assign","validateStatus","help","CustomFormItemInput","input_number","v","CustomFormItemTextInput","input","CustomFormItemDateDrop","date","Date","toLocaleDateString","CustomUpdateButton","disabled","onClick","colon","es_button","CustomSlider","_ref7","min","max","slider","step","generateOptions","validation","updateSlider","updateQuantile","updateOptionForm","actionParameters","mapStateToProps","mapDispatchToProps","submitCalculator","specificParameters","submitCalibrator","optionalChangeParameters","advancedParameters","calibrateParameters","variable","constraints","eventRemoveNotify","catch","err","console","log","submitDensity","submitMaturities","expirationDates","setTimeout","getOptions","url","querystring","generateUpdateParameters","rangeValidator","isNaN","isFinite","isNumeric","createBounds","getSubKeys","obj","ifExistsThenShow","defaultVal","getFormItems","modelParameters","convertAdvancedToSpecific","ranges","rangeKeys","keys","upperRanges","lowerRanges","convertedUpperRanges","convertedLowerRanges","bounds","col","FormHelper_CustomSlider","CommonInputs","CommonCalculatorButton","FormHelper_CustomUpdateButton","some","loading","CommonCalibratorButton","InputCalculator","validatorBidAsk","validatorOpenInterest","bidAskKey","_getOptions","offset","Graphs_SplineCurves","mse","es_alert","message","InputCalibrator","Calibrator_OptionMaturities","divider","Calibrator_OptionPrices","Calibrator_OptionMSE","Panel","Collapse","noBorder","border","collapse","bordered","header","ModelForm","basePath","es_row","react_router_dom_es","path","exact","render","Calibrator_InputCalibrator","Settings_InputSettings","ShowJson","MenuTypes","match","menu","theme","selectedKeys","to","ModalInputs","baseUrl","closeModal","push","baseAndPathUrl","split","footer","ModalInputs_MenuTypes","quantileOptions","init","last","by","n","floor","i","createArray","FormHelper_CustomNumberDrop","className","thetaName","ThetaWarning","description","showIcon","NoSensitivity","Algorithm","HelpComponent","rootModelLink","rootSensitivityLink","_generateConvertSpeci","localUrl","IVComponent","card","extra","switchTheta","CardPlot_ThetaWarning","CardPlot_NoSensitivity","component","background","margin","minHeight","FirstModel","Content","Layout","paramUrl","redirectUrl","floatRight","float","colBreaks","sm","xl","colorStyle","backgroundColor","MenuSensitivities","handleMenuClick","modelLink","goToInputModal","dropdown","Button","overlay","WrapModalInputs","Forms_ModalInputs","HoldCards","currentModel","find","src_LoadData","App_WrapModalInputs","App_MenuSensitivities","justify","Cards_CardPlot","Forms_QuantileInputs","store","createStore","reducer","es","basename","layout","from","document","getElementById"],"mappings":"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","file":"static/js/main.89d3375e.chunk.js","sourcesContent":["/** This serves as a template for a model plugin. \n*  The parameters with feature 'static' will be used \n*  but won't be calibrated.  Feature 'variable' will\n*  be calibrated.  Feature 'constant' wont' be used\n*  or calibrated.  \n*  You must specify a function to convert to and \n*  from the baseline model (extended Merton Jump \n*  Diffusion).  To convert from baseline to Merton \n*  Jump Diffusion, you must have the variable\n*  parameters in a \"variable\" sub-object.\n*  As an example, see heston.js and \n*  https://github.com/phillyfan1138/CharacteristicFunctions/blob/master/ConversionHestonCF.pdf \n*/ \nexport const convertHestonToCustomAda=(c, b)=>c/Math.sqrt(b) //c is vol, b is long run mean\nexport const convertHestonToCustomSig=b=>Math.sqrt(b) //b is long run mean\nexport const convertHestonToCustomV0=(v0, b)=>v0/b //v0 is initial value\n\nexport const convertCustomToHestonB=sig=>sig*sig\nexport const convertCustomToHestonC=(ada, sig)=>ada*sig\nexport const convertCustomToHestonV0=(v0, sig)=>sig*sig*v0\nexport const model={\n  \"name\": \"heston\",\n  \"label\": \"Heston\",\n  \"parameters\": [\n    {\n      \"defVal\": 8,\n      \"key\": \"numU\",\n      \"label\": \"Discrete Steps\",\n      \"toolTip\": \"This is the log2 number of discrete steps in the complex domain.  The higher the number, the more accurate the result; but the longer it will take.\",\n      \"feature\": \"static\"\n    },\n    {\n      \"defVal\": 0.03,\n      \"key\": \"r\",\n      \"label\": \"Rate\",\n      \"toolTip\": \"Risk free interest rate\",\n      \"feature\": \"static\"\n    },\n    {\n      \"defVal\": 50,\n      \"key\": \"S0\",\n      \"label\": \"S or K\",\n      \"toolTip\": \"For Carr-Madan and Fang-Oosterlee, which price over several strikes and single asset price, this is the asset price.  For FSTS, which prices over several asset prices and single strike, this is the strike\",\n      \"feature\": \"static\"\n    },\n    {\n      \"defVal\": 1,\n      \"key\": \"T\",\n      \"label\": \"T\",\n      \"toolTip\": \"Time till maturity\",\n      \"feature\": \"static\"\n    },\n    {\n      \"defVal\": 0.2,\n      \"key\": \"sigma\",\n      \"label\": \"Volatility\",\n      \"toolTip\": \"This is the volatility of the diffusion component of the (extended) Jump Diffusion process\",\n      \"feature\": \"constant\"\n    },\n    {\n      \"defVal\": 0.2,\n      \"key\": \"muJ\",\n      \"label\": \"Mean Jump Size\",\n      \"toolTip\": \"This is the mean value of the jump component\",\n      \"feature\": \"constant\"\n    },\n    {\n      \"defVal\": 0.3,\n      \"key\": \"sigJ\",\n      \"label\": \"Volatility of Jump\",\n      \"toolTip\": \"This is the volatility of the jump component\",\n      \"feature\": \"constant\"\n    },\n    {\n      \"defVal\": 1,\n      \"key\": \"lambda\",\n      \"label\": \"Lambda\",\n      \"toolTip\": \"This is the frequency of jumps\",\n      \"feature\": \"constant\"\n    },\n    {\n      \"defVal\": 0.4,\n      \"key\": \"speed\",\n      \"label\": \"Speed\",\n      \"toolTip\": \"Speed of mean reversion of time change\",\n      \"feature\": \"variable\"\n    },\n    {\n      \"defVal\": 0.04,\n      \"key\": \"v0\",\n      \"label\": \"V0\",\n      \"toolTip\": \"This is the current value of the variance process\",\n      \"feature\": \"variable\"\n    },\n    {\n      \"defVal\": 0.04,\n      \"key\": \"meanVol\",\n      \"label\": \"Average Vol\",\n      \"toolTip\": \"This is the average value of the variance process\",\n      \"feature\": \"variable\"\n    },\n    {\n      \"defVal\": 0.2,\n      \"key\": \"adaV\",\n      \"label\": \"Vol of Vol\",\n      \"toolTip\": \"This is the volatility of the variance process\",\n      \"feature\": \"variable\"\n    },\n    {\n      \"defVal\": -0.5,\n      \"key\": \"rho\",\n      \"label\": \"Rho\",\n      \"toolTip\": \"Correlation between asset and variance\",\n      \"feature\": \"variable\"\n    }\n  ],\n  \"hestonToAdvanced\": ({adaV, meanVol, v0, ...rest})=>({\n      ...rest,\n      adaV:convertHestonToCustomAda(adaV, meanVol),\n      sigma:convertHestonToCustomSig(meanVol),\n      v0:convertHestonToCustomV0(v0, meanVol)      \n  }),\n  \"advancedToheston\": ({sigma, v0, adaV, ...rest})=>({\n    ...rest,\n    meanVol:convertCustomToHestonB(sigma),\n    adaV:convertCustomToHestonC(adaV, sigma),\n    v0:convertCustomToHestonV0(v0, sigma)\n  })\n}","import {model as advanced} from './Models/advanced.js'\nimport {model as bs} from './Models/bs.js'\nimport {model as heston} from './Models/heston.js'\nexport const modelMap=[advanced,bs,heston]\nexport const defaultKey='defVal'//corresponds with default key in the Models folder\nexport const uBoundKey='uBound' \nexport const lBoundKey='lBound'","/** This serves as a template for a model plugin. \n*  The parameters with feature 'static' will be used \n*  but won't be calibrated.  Feature 'variable' will\n*  be calibrated.  Feature 'constant' wont' be used\n*  or calibrated.  The 'lBound' and 'uBound' \n*  are the upper and lower limits of the variable. \n*  You must specify a function to convert to and \n*  from the baseline model (extended CGMY).  To \n*  convert from baseline to CGMY, you must have the\n*  variable parameters in a \"variable\" sub-object.\n*  As an example, see heston.js and \n*  https://github.com/phillyfan1138/CharacteristicFunctions/blob/master/ConversionHestonCF.pdf \n*/ \n\nexport const model={\n  \"name\": \"advanced\",\n  \"label\": \"Advanced\",\n  \"parameters\": [\n    {\n      \"defVal\": 8,\n      \"key\": \"numU\",\n      \"label\": \"Discrete Steps\",\n      \"toolTip\": \"This is the log2 number of discrete steps in the complex domain.  The higher the number, the more accurate the result; but the longer it will take.\",\n      \"feature\": \"static\"\n    },\n    {\n      \"defVal\": 0.03,\n      \"key\": \"r\",\n      \"label\": \"Rate\",\n      \"toolTip\": \"Risk free interest rate\",\n      \"feature\": \"static\"\n    },\n    {\n      \"defVal\": 50,\n      \"key\": \"S0\",\n      \"label\": \"S or K\",\n      \"toolTip\": \"For Carr-Madan and Fang-Oosterlee, which price over several strikes and single asset price, this is the asset price.  For FSTS, which prices over several asset prices and single strike, this is the strike\",\n      \"feature\": \"static\"\n    },\n    {\n      \"defVal\": 1,\n      \"key\": \"T\",\n      \"label\": \"T\",\n      \"toolTip\": \"Time till maturity\",\n      \"feature\": \"static\"\n    },\n    {\n      \"defVal\": 0.2,\n      \"key\": \"sigma\",\n      \"label\": \"Volatility\",\n      \"toolTip\": \"This is the volatility of the diffusion component of the (extended) CGMY process\",\n      \"feature\": \"variable\"\n    },\n    {\n      \"defVal\": -.05,\n      \"key\": \"muJ\",\n      \"label\": \"Mean Jump Size\",\n      \"toolTip\": \"This is the mean value of the jump component\",\n      \"feature\": \"variable\"\n    },\n    {\n      \"defVal\": 0.3,\n      \"key\": \"sigJ\",\n      \"label\": \"Volatility of Jump\",\n      \"toolTip\": \"This is the volatility of the jump component\",\n      \"feature\": \"variable\"\n    },\n    {\n      \"defVal\": 0.2,\n      \"key\": \"lambda\",\n      \"label\": \"Lambda\",\n      \"toolTip\": \"This is the frequency of jumps\",\n      \"feature\": \"variable\"\n    },\n    {\n      \"defVal\": 0.4,\n      \"key\": \"speed\",\n      \"label\": \"Speed\",\n      \"toolTip\": \"Speed of mean reversion of time change\",\n      \"feature\": \"variable\"\n    },\n    {\n      \"defVal\": 0.95,\n      \"key\": \"v0\",\n      \"label\": \"V0\",\n      \"toolTip\": \"This is the current value of the variance process\",\n      \"feature\": \"variable\"\n    },\n    {\n      \"defVal\": 0.2,\n      \"key\": \"adaV\",\n      \"label\": \"Vol of Vol\",\n      \"toolTip\": \"This is the volatility of the variance process\",\n      \"feature\": \"variable\"\n    },\n    {\n      \"defVal\": -0.5,\n      \"key\": \"rho\",\n      \"label\": \"Rho\",\n      \"toolTip\": \"Correlation between asset and variance\",\n      \"feature\": \"variable\"\n    }\n  ],\n  \"advancedToAdvanced\": parameters=>parameters,\n  \"advancedToadvanced\": parameters=>parameters\n}","/** This serves as a template for a model plugin. \n*  The parameters with feature 'static' will be used \n*  but won't be calibrated.  Feature 'variable' will\n*  be calibrated.  Feature 'constant' wont' be used\n*  or calibrated.  The 'lBound' and 'uBound' \n*  are the upper and lower limits of the variable. \n*  You must specify a function to convert to and \n*  from the baseline model (extended CGMY).  To \n*  convert from baseline to CGMY, you must have the\n*  variable parameters in a \"variable\" sub-object.\n*  As an example, see heston.js and \n*  https://github.com/phillyfan1138/CharacteristicFunctions/blob/master/ConversionHestonCF.pdf \n*/ \n\nexport const model={\n  \"name\": \"bs\",\n  \"label\": \"Black Scholes\",\n  \"parameters\": [\n    {\n      \"defVal\": 8,\n      \"key\": \"numU\",\n      \"label\": \"Discrete Steps\",\n      \"toolTip\": \"This is the log2 number of discrete steps in the complex domain.  The higher the number, the more accurate the result; but the longer it will take.\",\n      \"feature\": \"static\"\n    },\n    {\n      \"defVal\": 0.03,\n      \"key\": \"r\",\n      \"label\": \"Rate\",\n      \"toolTip\": \"Risk free interest rate\",\n      \"feature\": \"static\"\n    },\n    {\n      \"defVal\": 50,\n      \"key\": \"S0\",\n      \"label\": \"S or K\",\n      \"toolTip\": \"For Carr-Madan and Fang-Oosterlee, which price over several strikes and single asset price, this is the asset price.  For FSTS, which prices over several asset prices and single strike, this is the strike\",\n      \"feature\": \"static\"\n    },\n    {\n      \"defVal\": 1,\n      \"key\": \"T\",\n      \"label\": \"T\",\n      \"toolTip\": \"Time till maturity\",\n      \"feature\": \"static\"\n    },\n    {\n      \"defVal\": 0.2,\n      \"key\": \"sigma\",\n      \"label\": \"Volatility\",\n      \"toolTip\": \"This is the volatility of the diffusion component of the (extended) Jump Diffusion process\",\n      \"feature\": \"variable\"\n    },\n    {\n      \"defVal\": 0.2,\n      \"key\": \"muJ\",\n      \"label\": \"Mean Jump Size\",\n      \"toolTip\": \"This is the mean value of the jump component\",\n      \"feature\": \"constant\"\n    },\n    {\n      \"defVal\": 1.4,\n      \"key\": \"sigJ\",\n      \"label\": \"Volatility of Jump\",\n      \"toolTip\": \"This is the volatility of the jump component\",\n      \"feature\": \"constant\"\n    },\n    {\n      \"defVal\": 0.0,\n      \"key\": \"lambda\",\n      \"label\": \"Lambda\",\n      \"toolTip\": \"This is the frequency of jumps\",\n      \"feature\": \"constant\"\n    },\n    {\n      \"defVal\": 0.4,\n      \"key\": \"speed\",\n      \"label\": \"Speed\",\n      \"toolTip\": \"Speed of mean reversion of time change\",\n      \"feature\": \"constant\"\n    },\n    {\n      \"defVal\": 1.0,\n      \"key\": \"v0\",\n      \"label\": \"V0\",\n      \"toolTip\": \"This is the current value of the variance process\",\n      \"feature\": \"constant\"\n    },\n    {\n      \"defVal\": 0.0,\n      \"key\": \"adaV\",\n      \"label\": \"Vol of Vol\",\n      \"toolTip\": \"This is the volatility of the variance process\",\n      \"feature\": \"constant\"\n    },\n    {\n      \"defVal\": 0.0,\n      \"key\": \"rho\",\n      \"label\": \"Rho\",\n      \"toolTip\": \"Correlation between asset and variance\",\n      \"feature\": \"constant\"\n    }\n  ],\n  \"bsToAdvanced\": bsParams=>bsParams,\n  \"advancedTobs\": bsParams=>bsParams\n}","export const NOTIFY_CALIBRATION='NOTIFY_CALIBRATION'\nexport const NOTIFY_CALCULATION='NOTIFY_CALCULATION'\nexport const UPDATE_QUANTILE='UPDATE_QUANTILE'\nexport const UPDATE_SLIDER_RANGE='UPDATE_SLIDER_RANGE'\nexport const UPDATE_DENSITY_VAR='UPDATE_DENSITY_VAR'\nexport const UPDATE_DENSITY_RAW='UPDATE_DENSITY_RAW'\nexport const UPDATE_SPLINE_DATA='UPDATE_SPLINE_DATA'\nexport const UPDATE_RANGE_DATA='UPDATE_RANGE_DATA'\nexport const NOTIFY_MATURITIES='NOTIFY_MATURITIES'\nexport const NOTIFY_GET_OPTIONS='NOTIFY_GET_OPTIONS'\nexport const UPDATE_OPTION_MATURITIES='UPDATE_OPTION_MATURITIES'\nexport const UPDATE_OPTION_FORM='UPDATE_OPTION_FORM'\nexport const UPDATE_OPTION_VALIDATION='UPDATE_OPTION_VALIDATION'\nexport const UPDATE_STRIKES_PRICE='UPDATE_STRIKES_PRICE'\nexport const NO_TICKER='NO_TICKER'\n\nexport const createActionType=(optionType, sensitivity, algorithm)=>{\n    return `UPDATE_${optionType.toUpperCase()}_${sensitivity.toUpperCase()}_${algorithm.toUpperCase()}`\n}\n\nexport const createOptionReplaceAll=modelType=>{\n    return `UPDATE_${modelType.toUpperCase()}_PARAMETER_ALL`\n}\nexport const createOptionReplaceSome=modelType=>{\n    return `UPDATE_${modelType.toUpperCase()}_PARAMETER_SOME`\n}\nexport const createOptionType=modelType=>{\n    return `UPDATE_${modelType.toUpperCase()}_PARAMETER`\n}\nexport const createValidationType=modelType=>{\n    return `UPDATE_${modelType.toUpperCase()}_VALIDATION`\n}","import { combineReducers } from 'redux'\n\nimport { \n    NOTIFY_CALIBRATION, \n    NOTIFY_MATURITIES,\n    NOTIFY_GET_OPTIONS,\n    NOTIFY_CALCULATION\n\n} from '../Actions/actionDefinitions'\nconst generateNotify=type=>(state=false, action)=>{\n    switch(action.type){\n        case type:\n            return action.value\n        default:\n            return state\n    }\n}\n\nexport default combineReducers({\n    isMaturityInProgress:generateNotify(NOTIFY_MATURITIES),\n    isCalibationInProgress:generateNotify(NOTIFY_CALIBRATION),\n    isGetOptionsInProgress:generateNotify(NOTIFY_GET_OPTIONS),\n    isCalculationInProgress:generateNotify(NOTIFY_CALCULATION),\n})","import { combineReducers } from 'redux'\n\nimport {  \n    UPDATE_SLIDER_RANGE,\n    UPDATE_RANGE_DATA,\n} from '../Actions/actionDefinitions'\n\nconst currentRange=(state={}, action)=>{\n    switch(action.type){\n        case UPDATE_SLIDER_RANGE:\n            const [lower, upper]=action.value\n            return {...state, [action.key]:{lower, upper}}\n        case UPDATE_RANGE_DATA: //sync defaultRange and currentRange at start\n            return action.data\n        default:\n            return state\n    }\n}\n\n//used for validation\nconst defaultRange=(state={}, action)=>{\n    switch(action.type){\n        case UPDATE_RANGE_DATA:\n            return action.data\n        default:\n            return state\n    }\n}\n\nexport default combineReducers({\n    currentRange, defaultRange\n})","export const keepMiddleElements=(arr, perc1, perc2)=>{\n    const n=arr.length\n    const m1=Math.floor(perc1*n)\n    const m2=Math.floor(perc2*n)\n    return arr.slice(m1, -m2)\n}\n\nexport const getMiddleByVal=(arr, lower, upper, key)=>{\n    return arr.filter(val=>val[key]>lower&&val[key]<upper)\n}\n//.00000001 is to fix the rounding errors that sometimes happen\nconst roundErr=.00000001\nexport const createArray=(init, last, by=1)=>{\n    let arr=[]\n    const n=Math.floor(roundErr+(last-init)/by)\n    for(let i=0; i<(n+1); ++i){\n        const val=init+by*i\n        arr.push(val)        \n    }\n    return arr\n}\n//TODO!! Write unit test for this and maybe rename\nexport const extractDefaultValues=(parameters, defaultKey)=>parameters.reduce((aggr, curr)=>({...aggr, [curr.key]:curr[defaultKey]}), {})\n\n\nconst f = (a, b) => [].concat(...a.map(d => b.map(e => [].concat(d, e))))\n\nexport const cartesian = (a, b, ...c) => (b ? cartesian(f(a, b), ...c) : a)\n\nexport const excludePotentialArray=(maybeArr, maybeInArr)=>maybeArr?maybeArr.indexOf(maybeInArr)===-1:true\n\nexport const removeFirstAndLastElement=arr=>arr.slice(1, -1)\n\nexport const upperFirstLetter=string=>string[0].toUpperCase() + string.substring(1)\n\n","import { combineReducers } from 'redux'\n\nimport { modelMap, defaultKey } from '../modelSkeleton'\n\nimport {PARAMETERS, VALIDATION} from '../Utils/constants'\nimport { \n    UPDATE_QUANTILE,\n    UPDATE_OPTION_MATURITIES,\n    UPDATE_OPTION_FORM,\n    UPDATE_STRIKES_PRICE,\n    UPDATE_OPTION_VALIDATION,\n    NO_TICKER,\n    createValidationType, \n    createOptionType, \n    createOptionReplaceAll,\n    createOptionReplaceSome\n} from '../Actions/actionDefinitions'\n\nimport progress from './progressReducer'\nimport range from './rangeReducer'\n\nimport { extractDefaultValues } from '../Utils/utils'\n\nconst defaultOptionValues={\n    prices:[],\n    k:[],\n    ticker:'',\n    maturity:null,\n    minRelativeBidAskSpread:.1,\n    minOpenInterest:25,\n    maturityOptions:[]\n}\n\nconst defaultOptionValuesValidation={\n    minOpenInterest:'',\n    minRelativeBidAskSpread:''\n}\nconst defaultFormValidationStatus={\n    numU:'',\n    r:'',\n    T:'', //updated from either the calibration screen OR the calculator screen\n    S0:'',\n    sigma:'',\n    muJ:'',\n    sigJ:'',\n    lambda:'',\n    speed:'',\n    meanVol:'',\n    v0:'',\n    adaV:'',\n    rho:''\n}\n\nconst generateParameters=(paramName, defaultState)=>(state=defaultState, action)=>{\n    switch (action.type){\n        case createOptionType(paramName):\n            return {...state, [action.key]:action.value}\n        case createOptionReplaceAll(paramName):\n            return {...state, ...action.data}\n        case createOptionReplaceSome(paramName):\n            return {...state, ...action.data}\n        default:\n            return state\n    }\n}\n\nconst optionValues=(state=defaultOptionValues, action)=>{\n    switch (action.type){\n        case UPDATE_OPTION_MATURITIES:\n            return {...state, maturityOptions:action.data}\n        case UPDATE_OPTION_FORM:\n            return {...state, [action.key]:action.value}\n        case UPDATE_STRIKES_PRICE:\n            return {...state, ...action.data}\n        default:\n            return state\n    }\n}\nconst optionValuesValidation=(state=defaultOptionValuesValidation, action)=>{\n    switch (action.type){\n        case UPDATE_OPTION_VALIDATION:\n            return {...state, [action.key]:action.value}\n        default:\n            return state\n    }\n}\nconst invalidTicker=(state=false, action)=>{\n    switch(action.type){\n        case NO_TICKER:\n            return action.value\n        default:\n            return state\n    }\n}\n\nconst generateValidation=paramName=>(state=defaultFormValidationStatus, action)=>{\n    switch (action.type){\n        case createValidationType(paramName):\n            return {...state, [action.key]:action.value}\n        default:\n            return state\n    }\n}\n\n\nconst quantile=(state=.01, action)=>{\n    switch(action.type){\n        case UPDATE_QUANTILE:\n            return action.value\n        default:\n            return state\n    }\n}\n\nexport default combineReducers(\n    modelMap.reduce((aggr, curr)=>({\n        ...aggr,       \n        [curr.name+PARAMETERS]:generateParameters(curr.name, extractDefaultValues(curr.parameters, defaultKey)),\n        [curr.name+VALIDATION]:generateValidation(curr.name),\n    }), {\n        quantile,\n        range,\n        progress,\n        optionValues,\n        invalidTicker,\n        optionValuesValidation\n    })\n)","export const PARAMETERS='Parameters'\nexport const NOTIFY='Notify'\nexport const VALIDATION='Validation'","import { cartesian, excludePotentialArray } from './Utils/utils'\nexport const sensitivities=[\n    'price',\n    'delta',\n    'theta',\n    'gamma'\n]\nexport const optionTypes=[\n    'call',\n    'put'\n]\n\nexport const algorithms=[\n    'fangoost',\n    'carrmadan',\n    'fsts'\n]\nexport const excludeFrom={\n    carrmadan:['delta', 'theta', 'gamma']\n}\n\nconst appSkeleton=cartesian(optionTypes, sensitivities, algorithms).filter(([optionType, sensitivity, algorithm])=>excludePotentialArray(excludeFrom[algorithm], sensitivity))\n\nconst appendIfExists=(arr, val)=>arr?[...arr, val]:[val]\n\nexport const keySkeleton=appSkeleton.reduce((aggr, [optionType, sensitivity, algorithm])=>({\n    ...aggr,\n    [algorithm]:appendIfExists(aggr[algorithm], [sensitivity, optionType])\n}), {})\n\nexport default appSkeleton","const vol=(T, sigma, lambda, muJ, sigJ)=>{\n    return Math.sqrt(T*(sigma*sigma+lambda*(muJ*muJ+sigJ*sigJ)))\n}\nconst upperScalar=1.2\nconst lowerScalar=2.0\nexport const getDomain=({T, sigma, lambda, muJ, sigJ, S0, r})=>{\n    const mertonVol=vol(T, sigma, lambda, muJ, sigJ)\n    const expReturn=r*T\n    return {\n        upper:S0*Math.exp(expReturn+mertonVol*upperScalar),\n        lower:S0*Math.exp(expReturn-mertonVol*lowerScalar)\n    }\n}","import { combineReducers } from 'redux'\n\nimport { \n    removeFirstAndLastElement,\n    getMiddleByVal\n} from '../Utils/utils'\n\nimport {\n    keySkeleton,\n    algorithms\n} from '../appSkeleton'\n\nimport { getDomain } from '../Utils/mertonUtils'\n\nimport {\n    UPDATE_DENSITY_VAR,\n    UPDATE_DENSITY_RAW,\n    UPDATE_SPLINE_DATA,\n    createActionType\n} from '../Actions/actionDefinitions'\n\nconst [fangoostName, carrMadanName, fstsName]=algorithms\n\nconst actionFangOostFactory=actionType=>(state=[], action)=>{\n    switch(action.type){\n        case actionType:\n            return removeFirstAndLastElement(action.data)\n        default:\n            return state\n    }\n}\n\nconst actionDomainFactory=actionType=>(state=[], action)=>{\n    switch(action.type){\n        case actionType:\n            const {upper, lower}=getDomain(action.parameters)\n            return getMiddleByVal(action.data, lower, upper, 'atPoint')\n        default:\n            return state\n    }\n}\n\nconst generateAlgorithmState=(keySkeleton, algorithm, factory)=>{\n    return keySkeleton[algorithm].reduce((aggr, [sensitivity, optionType])=>{\n        return {\n            ...aggr,\n            [algorithm+optionType+sensitivity]:factory(createActionType(optionType, sensitivity, algorithm))\n        }\n    }, {})\n}\n\n\n\nconst fangoost=generateAlgorithmState(keySkeleton, fangoostName, actionFangOostFactory)\nconst carrmadan=generateAlgorithmState(keySkeleton, carrMadanName, actionDomainFactory)\nconst fsts=generateAlgorithmState(keySkeleton, fstsName, actionDomainFactory)\n\nconst actionVaRFactory=(actionType, defState)=>(state=defState, action)=>{\n    switch (action.type){\n        case actionType:\n            return action.data\n        default:\n            return state\n    }\n}\n\nconst riskMetrics=actionVaRFactory(UPDATE_DENSITY_VAR, {VaR:0, ES:0})\nconst density=actionVaRFactory(UPDATE_DENSITY_RAW, [])\n\nconst spline=(state={curve:[], points:[]}, action)=>{\n    switch(action.type){\n        case UPDATE_SPLINE_DATA:\n            return action.data\n        default:\n            return state\n    }\n}\nexport default combineReducers({\n    ...fangoost,\n    ...carrmadan,\n    ...fsts,\n    riskMetrics,\n    density,\n    spline\n})","import { combineReducers } from 'redux'\n\nimport form from '../Forms/formReducer'\nimport graph from '../Graphs/graphReducer' /*{\n    VaR, density, \n    fangoost,\n    carrmadan,\n    fsts, spline, \n}*/\n/**Note that each import for the algorithms contains nested properties which must be unnested*/\nexport default combineReducers({\n    form,\n    graph\n})","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { \n    VictoryLine, \n    VictoryChart,\n    VictoryAxis,\n    VictoryLabel,\n    VictoryScatter,\n    VictoryLegend,\n    VictoryVoronoiContainer\n} from 'victory'\n\nconst callStyle={data:{stroke:\"blue\"}}\nconst putStyle={data:{stroke:\"red\"}}\nconst legendOption=[{\n    name:\"Call\",\n    symbol: { fill: \"blue\", type: \"circle\" }\n},{\n    name:\"Put\",\n    symbol: { fill: \"red\", type: \"circle\" }\n}]\nconst optionLabelFn=label=>d=>`Price ${d.y} at ${label} ${d.x}`\nconst splineLabelFn=label=>d=>`Transformed Option Price ${d.y} at ${label} ${d.x}`\nconst ivLabelFn=label=>d=>`Volatility ${d.y} at ${label} ${d.x}`\nconst axisStyleOption={ axisLabel: { padding: 30} }\nconst axisStyleIV={ axisLabel: { padding: 40} }\nconst domainPadding=25\nexport const OptionCurves=({call, put, title, xLabel, yLabel, marketData})=>(\n    <VictoryChart \n        domainPadding={domainPadding} \n        containerComponent={<VictoryVoronoiContainer labels={optionLabelFn(xLabel)}/>}\n    >\n        <VictoryLegend x={50} y={50}\n            orientation=\"vertical\"\n            gutter={20}\n            data={legendOption}\n        />\n        \n        <VictoryLabel x={120} y={50}\n            text={title}\n        />\n        {marketData?<VictoryScatter data={marketData} x=\"strike\" y=\"price\"/>:null}\n        <VictoryLine\n            style={callStyle}\n            interpolation=\"natural\"\n            data={call}\n            x=\"atPoint\"\n            y=\"value\"\n        />\n        <VictoryLine\n            style={putStyle}\n            interpolation=\"natural\"\n            data={put}\n            x=\"atPoint\"\n            y=\"value\"\n        />\n        <VictoryAxis \n            dependentAxis\n            style={axisStyleOption}\n            label={yLabel}\n        />\n        <VictoryAxis\n            label={xLabel}\n        />\n    </VictoryChart>\n)\nOptionCurves.propTypes={\n    callData:PropTypes.arrayOf(PropTypes.shape({\n        value:PropTypes.number.isRequired,\n        atPoint:PropTypes.number.isRequired\n    })),\n    putData:PropTypes.arrayOf(PropTypes.shape({\n        value:PropTypes.number.isRequired,\n        atPoint:PropTypes.number.isRequired\n    })),\n    xLabel:PropTypes.string.isRequired,\n    yLabel:PropTypes.string.isRequired,\n    title:PropTypes.string.isRequired\n}\nexport const IVCurves=({put, xLabel, title})=>(\n    <VictoryChart \n        domainPadding={domainPadding}\n        containerComponent={<VictoryVoronoiContainer labels={ivLabelFn(xLabel)}/>}\n    >\n        <VictoryLabel x={120} y={50}\n            text={title}\n        />\n        <VictoryLine\n            interpolation=\"natural\"\n            data={put}\n            x=\"atPoint\"\n            y=\"iv\"\n        />\n        <VictoryAxis \n            dependentAxis\n            style={axisStyleIV}\n            label=\"Implied Volatility\"\n        />\n        <VictoryAxis\n            label={xLabel}\n        />\n    </VictoryChart>\n)\nIVCurves.propTypes={\n    put:PropTypes.arrayOf(PropTypes.shape({\n        iv:PropTypes.number.isRequired,\n        atPoint:PropTypes.number.isRequired\n    })),\n    title:PropTypes.string.isRequired,\n    xLabel:PropTypes.string.isRequired\n}\nconst getMax=(data, key)=>data.reduce((aggr, cur)=>{\n    return cur[key]>aggr?cur[key]:aggr\n}, 0)\nconst getVar=(VaR, data)=>[\n    {\n        x:-VaR,\n        y:0\n    },\n    {\n        x:-VaR,\n        y:getMax(data, \"value\")\n    }\n]\nexport const DensityCurves=({density, VaR, ES})=>(\n    <VictoryChart domainPadding={domainPadding}>\n        <VictoryLabel x={25} y={24}\n            text={`Value at Risk: ${VaR}`}\n        />\n        <VictoryLabel x={25} y={48}\n            text={`Expected Shortfall: ${ES}`}\n        />\n        <VictoryLine\n            interpolation=\"natural\"\n            data={density}\n            x=\"atPoint\"\n            y=\"value\"\n        />\n        <VictoryLine\n            data={getVar(VaR, density)}\n        />\n        <VictoryAxis \n            label=\"Log Asset Price\"\n        />\n    </VictoryChart>\n)\nDensityCurves.propTypes={\n    density:PropTypes.arrayOf(PropTypes.shape({\n        value:PropTypes.number.isRequired,\n        atPoint:PropTypes.number.isRequired\n    })),\n    VaR:PropTypes.number,\n    ES:PropTypes.number\n}\n\n\nexport const SplineCurves=({spline, title, xLabel, yLabel})=>(\n    <VictoryChart \n        domainPadding={domainPadding} \n        containerComponent={<VictoryVoronoiContainer labels={splineLabelFn(xLabel)}/>}\n    >\n        <VictoryLegend x={50} y={50}\n            orientation=\"vertical\"\n            gutter={20}\n            data={legendOption}\n        />\n        <VictoryLabel x={120} y={50}\n            text={title}\n        />\n        <VictoryScatter data={spline.points} x=\"logStrike\" y=\"transformedOption\"/>\n        <VictoryLine\n            style={callStyle}\n            interpolation=\"natural\"\n            data={spline.curve}\n            x=\"logStrike\"\n            y=\"transformedOption\"\n        />\n        <VictoryAxis \n            dependentAxis\n            style={axisStyleOption}\n            label={yLabel}\n        />\n        <VictoryAxis\n            label={xLabel}\n        />\n    </VictoryChart>\n)\nSplineCurves.propTypes={\n    spline:PropTypes.shape({\n        curve:PropTypes.arrayOf(PropTypes.shape({\n            logStrike:PropTypes.number.isRequired,\n            transformedOption:PropTypes.number.isRequired\n        })),\n        points:PropTypes.arrayOf(PropTypes.shape({\n            logStrike:PropTypes.number.isRequired,\n            transformedOption:PropTypes.number.isRequired\n        }))\n    }),\n    title:PropTypes.string.isRequired,\n    xLabel:PropTypes.string.isRequired,\n    yLabel:PropTypes.string.isRequired,\n}","import React from 'react'\nimport { connect } from 'react-redux'\nimport { OptionCurves, IVCurves } from './Graphs'\nimport { upperFirstLetter } from '../Utils/utils'\nimport {\n    keySkeleton, optionTypes, \n    sensitivities, algorithms\n} from '../appSkeleton'\nimport { Modal } from 'antd'\nimport { getUniqueArray } from 'array_utils'\nconst [fangOostName, carrMadanName, fstsName]=algorithms\nconst [, putName]=optionTypes\nconst [priceName]=sensitivities\nconst sensitivityIndex=0\n\nexport const hasAtLeastIndex=(index, arr)=>arr.length>index?arr[index]:null\n\nexport const getMarketDataFromStrikeAndPrice=(strikes, prices)=>strikes.length>0?\n    strikes.map((strike, index)=>({strike, price:hasAtLeastIndex(index, prices)})):\n    null\n\nexport const generateMarketData=(sensitivity, {k, prices})=>priceName===sensitivity?\n    getMarketDataFromStrikeAndPrice(k, prices):\n    null\n\nexport const generateAlgorithmOptionPrices=(keySkeleton, algorithm)=>\n    (connect, Component, initState)=>\n        getUniqueArray(\n            keySkeleton[algorithm], \n            sensitivityIndex\n        )\n        .reduce((aggr, [sensitivity], index)=>({\n            ...aggr,\n            [sensitivity]:connect(\n                ({form, graph})=>({\n                    ...optionTypes.reduce((aggrState, optionType)=>({\n                        ...aggrState,\n                        [optionType]:graph[algorithm+optionType+sensitivity],\n                        yLabel:upperFirstLetter(sensitivity)\n                    }), initState),\n                    marketData:algorithm===fstsName?null:generateMarketData(sensitivity, form.optionValues)\n                })\n            )(Component)\n        }), {})\n\n\n\nconst generateIVState=(connect, algorithm, Component, initState)=>connect(\n    ({graph})=>({put:graph[algorithm+putName+priceName], ...initState})\n)(Component)\n\nconst fangOostInitState={\n    xLabel:'Strikes',\n    title:'Fang-Oosterlee'\n}\nconst carrMadanInitState={\n    xLabel:'Strikes',\n    title:'Carr-Madan'\n}\nconst fstsInitState={\n    xLabel:'Asset Prices',\n    title:'Fourier Space Time Step'\n}\n\nexport const FangOost={\n    ...generateAlgorithmOptionPrices(keySkeleton, fangOostName)(connect, OptionCurves, fangOostInitState),\n    IV:generateIVState(connect, fangOostName, IVCurves, fangOostInitState)\n}\n\nexport const CarrMadan={\n    ...generateAlgorithmOptionPrices(keySkeleton, carrMadanName)(connect, OptionCurves, carrMadanInitState),\n    IV:generateIVState(connect, carrMadanName, IVCurves, carrMadanInitState)\n}\n\nexport const FSTS={\n    ...generateAlgorithmOptionPrices(keySkeleton, fstsName)(connect, OptionCurves, fstsInitState),\n    IV:generateIVState(connect, fstsName, IVCurves, fstsInitState)\n}\n\n\nconst generateHelp=text=>({history})=>(\n    <Modal title=\"Help\" visible={true} onOk={history.goBack} onCancel={history.goBack}>\n       {text}\n    </Modal>\n)\nconst fangOostHelp=(\n    <p>\n        Fang and Oosterlee developed an algorithm to price options in their 2007 <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"http://ta.twi.tudelft.nl/mf/users/oosterle/oosterlee/COS.pdf\">paper</a>.  It prices in discrete strikes for a given underlying price.  It has great accuracy and splits the complex and real domain so that only a set number of strikes may be chosen.\n    </p>\n)\nconst carrMadanHelp=(\n    <p>\n        Carr Madan is the standard for FFT based option pricing and is based off the seminal 1999 <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.348.4044&rep=rep1&type=pdf\">paper</a> by Carr and Madan.  It prices in the strike for a given underlying price.  It does not have great accuracy and requires a fine mesh in the complex domain (and a corresponding large mesh in the real domain) to achieve required accuracy.\n    </p>\n)\nconst fstsHelp=(\n    <p>\n        The Fourier Space Time Stepping algorithm was introduced by  <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://tspace.library.utoronto.ca/bitstream/1807/19300/1/Surkov_Vladimir_200911_PhD_Thesis.pdf\">Surkov</a>.  It prices in the asset for a given strike price.  It is far more general than either Fang-Oosterlee or Carr-Madan as it is agnostic to the payoff structure.  Since it prices in the stock price, it can also price American options.  However, this also makes it less valuable for calibrating portfolios of options on a single asset.\n    </p>\n)\nexport const FangOostHelp=generateHelp(fangOostHelp)\nexport const CarrMadanHelp=generateHelp(carrMadanHelp)\nexport const FSTSHelp=generateHelp(fstsHelp)","import { connect } from 'react-redux'\nimport {DensityCurves} from './Graphs'\n\nconst mapStateToProps =({graph})=>({\n  ...graph.riskMetrics,\n  density:graph.density\n})\nexport const Density = connect(\n  mapStateToProps,\n)(DensityCurves)","import {\n    NOTIFY_CALIBRATION,\n    UPDATE_DENSITY_RAW,\n    UPDATE_DENSITY_VAR,\n    UPDATE_RANGE_DATA,\n    UPDATE_SPLINE_DATA,\n    NOTIFY_MATURITIES,\n    NOTIFY_GET_OPTIONS,\n    UPDATE_OPTION_MATURITIES,\n    UPDATE_STRIKES_PRICE,\n    NO_TICKER,\n    createActionType,\n    createOptionReplaceSome,\n    createOptionReplaceAll\n} from './actionDefinitions'\nimport querystring from 'querystring'\nimport appSkeleton from '../appSkeleton'\n\nexport const baseUrl=process.env.NODE_ENV === 'production'||process.env.REACT_APP_CUST==='production'?'https://74ekexhct2.execute-api.us-east-1.amazonaws.com/dev/v2/':'/'\n\nconst createBody=params=>({\n    method:'post',\n    body:JSON.stringify(params)\n})\nexport const createUrl=urlParams=>`${baseUrl}${urlParams.join('/')}`\n\nconst getOptionUrl=(...urlParams)=>params=>fetch(createUrl(urlParams), createBody(params)).then(response=>response.json())\n\n\nconst getDefaultUrl=(...urlParams)=>fetch(createUrl(urlParams)).then(response=>response.json())\n\nexport const getRangeData=dispatch=>getDefaultUrl('parameters', 'parameter_ranges').then(data=>dispatch({\n    type:UPDATE_RANGE_DATA,\n    data\n}))\n\nconst getDData=(section, type)=>(parms, dispatch)=>{\n    const base='density'\n    getOptionUrl(base, section)(parms).then(data=>dispatch({\n        type,\n        data\n    }))\n}\nexport const getVaRData=getDData('var', UPDATE_DENSITY_VAR)\nexport const getDensity=getDData('raw', UPDATE_DENSITY_RAW)\n\nexport const getCalibration=(type, optionalChangeParameters)=>(parms, dispatch)=>{\n    const eventRemoveNotify={\n        type:NOTIFY_CALIBRATION,\n        value:false\n    }\n    dispatch({\n        type:NOTIFY_CALIBRATION,\n        value:true\n    })\n    getOptionUrl('calibrator', 'calibrate')(parms).then(response=>{\n        dispatch({\n            type:createOptionReplaceAll(type),\n            data:optionalChangeParameters?optionalChangeParameters(response):response,\n        })\n        dispatch(eventRemoveNotify)\n    }).catch(err=>{\n        console.log(err)\n        dispatch(eventRemoveNotify)\n    })\n}\nconst msToWait=3000\nexport const getMaturities=type=>({ticker}, dispatch)=>{\n    const eventRemoveNotify={\n        type:NOTIFY_MATURITIES,\n        value:false\n    }\n    dispatch({\n        type:NOTIFY_MATURITIES,\n        value:true\n    })\n    getDefaultUrl('options', ticker, 'maturities').then(({expirationDates, ...rest})=>{\n        dispatch({\n            type:createOptionReplaceSome(type),\n            data:rest,\n        })\n        dispatch({\n            type:UPDATE_OPTION_MATURITIES,\n            data:expirationDates,\n        })\n        dispatch(eventRemoveNotify)\n    }).catch(err=>{\n        console.log(err)\n        dispatch({\n            type:NO_TICKER,\n            value:true\n        })\n        setTimeout(()=>{\n            dispatch({\n                type:NO_TICKER,\n                value:false\n            })\n        }, msToWait)\n        dispatch(eventRemoveNotify)\n    })\n}\nexport const getOptions=type=>({ticker, maturity, minOpenInterest, minRelativeBidAskSpread}, dispatch)=>{\n    const eventRemoveNotify={\n        type:NOTIFY_GET_OPTIONS,\n        value:false\n    }\n    dispatch({\n        type:NOTIFY_GET_OPTIONS,\n        value:true\n    })\n    const url=createUrl(['options', ticker, 'prices', maturity])+'?'+querystring.stringify({minOpenInterest, minRelativeBidAskSpread})\n    fetch(url).then(response=>response.json()).then(({curve, points, ...rest})=>{\n        dispatch({\n            type:createOptionReplaceSome(type),\n            data:rest,\n        })\n        dispatch({\n            type:UPDATE_STRIKES_PRICE,\n            data:rest,\n        })\n        dispatch({\n            type:UPDATE_SPLINE_DATA,\n            data:{curve, points},\n        })\n        dispatch(eventRemoveNotify)\n    }).catch(err=>{\n        console.log(err)\n        dispatch(eventRemoveNotify)\n    })\n}\n\nexport const getCalculation=(parameters, dispatch)=>{\n    appSkeleton.forEach(\n        row=>getOptionUrl('calculator', ...row)(parameters).then(response=>dispatch({\n            type:createActionType(...row),\n            data:response, \n            parameters\n        }))\n    )\n    getVaRData(parameters, dispatch)\n    getDensity(parameters, dispatch)\n}\n","import { PARAMETERS } from './constants'\nexport const generateConvertSpecificToAdvanced=model=>model[model.name+'ToAdvanced']\nexport const generateConvertAdvancedToSpecific=model=>model['advancedTo'+model.name]\nexport const getParametersByFeature=(arr, chosenFeature)=>arr.filter(({feature})=>feature===chosenFeature)\n\nexport const getCalculationParameters=(form, model)=>({\n    ...form[model.name+PARAMETERS], quantile:form.quantile\n})","import {Component} from 'react'\nimport { connect } from 'react-redux'\n\nimport { getCalculation, getRangeData } from './Actions/lambda'\nimport { generateConvertSpecificToAdvanced, getCalculationParameters } from './Utils/conversionUtils'\n\nclass LoadData extends Component{\n    componentDidMount() {\n        this.props.onLoad( this.props.model, this.props.parameters)\n    }\n    render(){\n        return null\n    }\n}\n\nconst mapStateToProps=({form})=>({\n    parameters:form\n})\nconst mapDispatchToProps =dispatch=>({\n    onLoad:(model, form)=>{\n        getCalculation(\n            generateConvertSpecificToAdvanced(model)(\n                getCalculationParameters(form, model)\n            ), \n            dispatch\n        )\n        getRangeData(dispatch)\n    }\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LoadData)\n\n","export const gutter=16\nexport const flexObj={xs:24, md:12}\nexport const formItemLayoutLabel={\n    labelCol: { span: 8 },\n    wrapperCol: { span: 12 }\n}\nexport const fullWidth={ width: '100%' }","import React from 'react'\nimport { Tooltip, Input, Form, Button, Select, InputNumber, Slider } from 'antd'\nimport PropTypes from 'prop-types'\nimport { fullWidth, formItemLayoutLabel } from '../globalOptions'\n\nconst onChangeHelper=getV=>(onChange, validator, objKey)=>value=>{\n    const isValid=validator?validator.fn(getV(value)):'truthy'\n    onChange(objKey, getV(value), typeof isValid==='boolean'?'error':'') \n}\n\nconst FormItem=Form.Item\nconst Option=Select.Option\n\nconst parseArrOrNumber=(arr, fn)=>Array.isArray(arr)?arr.map(val=>fn(val)):fn(arr)\nconst fixedVal=round=>val=>val.toFixed(round)\nconst onSelectHelper=(onChange, key, parms)=>value=>onChange(key, parseArrOrNumber(value, parseFloat), parms)\n\nexport const CustomNumberDrop=({objKey, parms, options, onChange, round, toolTip, multiSelect})=>(\n<Tooltip placement=\"top\" title={toolTip}>\n    <Select\n        value={parseArrOrNumber(parms[objKey], fixedVal(round))}\n        onChange={onSelectHelper(onChange, objKey, parms)}\n        mode={multiSelect?'multiple':null}\n        style={fullWidth}\n    >\n        {options.map(option=>{\n            const val=option.toFixed(round)\n            return <Option key={val} value={val}>{val}</Option>\n        })}\n    </Select>\n</Tooltip>\n)\nexport const CustomDateDrop=({objKey, parms, options, onChange, toolTip})=>(\n    <Tooltip placement=\"top\" title={toolTip}>\n        <Select\n            value={parms[objKey]}\n            onChange={v=>onChange(objKey, v)}\n            style={fullWidth}\n        >\n            {options.map(option=>{\n                const date=new Date(option)\n                return <Option key={option} value={option}>{date.toLocaleDateString()}</Option>\n            })}\n        </Select>\n    </Tooltip>\n)\n\nCustomNumberDrop.propTypes={\n    objKey:PropTypes.string.isRequired,\n    parms:PropTypes.object.isRequired,\n    options:PropTypes.arrayOf(PropTypes.number).isRequired,\n    onChange:PropTypes.func.isRequired,\n    round:PropTypes.number.isRequired,\n    toolTip:PropTypes.string.isRequired\n}\n\nexport const CustomInput=({objKey, parms, onChange, toolTip, validator})=>(\n<Tooltip placement=\"top\" title={toolTip}>\n    <InputNumber\n        value={parms[objKey]}\n        onChange={onChangeHelper(v=>v)(onChange, validator, objKey)}\n        style={fullWidth}\n    />\n</Tooltip>\n)\n\nCustomInput.propTypes={\n    objKey:PropTypes.string.isRequired,\n    parms:PropTypes.object.isRequired,\n    onChange:PropTypes.func.isRequired,\n    toolTip:PropTypes.string.isRequired,\n    validator:PropTypes.shape({\n        fn:PropTypes.func.isRequired,\n        help:PropTypes.string.isRequired\n    })\n}\n\nexport const CustomInputText=({objKey, parms, onChange, toolTip, validator})=>(\n    <Tooltip placement=\"top\" title={toolTip}>\n        <Input\n            value={parms[objKey]}\n            onChange={onChangeHelper(e=>e.target.value)(onChange, validator, objKey)}\n            style={fullWidth}\n        />\n    </Tooltip>\n)\n\nCustomInputText.propTypes={\n    objKey:PropTypes.string.isRequired,\n    parms:PropTypes.object.isRequired,\n    onChange:PropTypes.func.isRequired,\n    toolTip:PropTypes.string.isRequired,\n    validator:PropTypes.shape({\n        fn:PropTypes.func.isRequired,\n        help:PropTypes.string.isRequired\n    })\n}\n\nconst CustomFormItemGeneric=CustInput=>({objKey, parms, onChange, toolTip, label, validator, validationResults, ...rest})=>(\n    <FormItem {...formItemLayoutLabel} label={label} validateStatus={validationResults} help={validationResults&&validator.help}>\n        <CustInput objKey={objKey} parms={parms} onChange={onChange} toolTip={toolTip} validator={validator} {...rest}/>\n    </FormItem>\n)\n\nCustomFormItemGeneric.propTypes={\n    ...CustomInput.propTypes,\n    validationResults:PropTypes.object.isRequired,\n    label:PropTypes.string.isRequired,\n    validator:PropTypes.shape({\n        fn:PropTypes.func.isRequired,\n        help:PropTypes.string.isRequired\n    })\n}\n\nexport const CustomFormItemInput=CustomFormItemGeneric(CustomInput)\nexport const CustomFormItemTextInput=CustomFormItemGeneric(CustomInputText)\nexport const CustomFormItemDateDrop=CustomFormItemGeneric(CustomDateDrop)\n\nexport const CustomUpdateButton=({disabled, onClick, text, ...rest})=>(\n    <FormItem {...formItemLayoutLabel} colon={false} label=\" \">\n        <Button \n            style={fullWidth}\n            type=\"primary\" \n            disabled={disabled}\n            onClick={onClick}\n            {...rest}\n        >{text||\"Update\"}</Button>\n    </FormItem>\n)\nCustomUpdateButton.propTypes={\n    disabled:PropTypes.bool,\n    onClick:PropTypes.func.isRequired\n}\n\nexport const CustomSlider=({range, onChange, label, objKey, min, max})=>(\n    <FormItem \n        {...formItemLayoutLabel} \n        colon={false} \n        label={label}\n    >\n        <Slider \n            style={fullWidth} range \n            value={[range.lower, range.upper]} \n            min={min} max={max} \n            onChange={val=>onChange(objKey, val)} \n            step={(max-min)/100}\n        />\n    </FormItem>\n)","import { modelMap } from '../modelSkeleton'\nimport { \n    UPDATE_QUANTILE, \n    UPDATE_SLIDER_RANGE, \n    UPDATE_OPTION_FORM, \n    UPDATE_OPTION_VALIDATION,\n    createValidationType, \n    createOptionType\n} from './actionDefinitions'\n\nconst generateValidation=paramName=>(key, value, dispatch)=>{\n    dispatch({\n        type:createValidationType(paramName),\n        key,\n        value\n    })\n}\nconst generateOptions=paramName=>(key, value, validation, dispatch)=>{\n    dispatch({\n        type:createOptionType(paramName),\n        key,\n        value\n    })\n    generateValidation(paramName)(key, validation, dispatch)\n}\n\nconst updateSlider=(key, value, dispatch)=>{\n    dispatch({\n        type:UPDATE_SLIDER_RANGE,\n        key, \n        value\n    })\n}\n\nconst updateOptionForm=(key, value, validation, dispatch)=>{\n    dispatch({\n        type:UPDATE_OPTION_FORM,\n        key, value\n    })\n    dispatch({\n        type:UPDATE_OPTION_VALIDATION,\n        key, value:validation\n    })\n}\n\n\nconst updateQuantile=(value, dispatch)=>{\n    dispatch({\n        type:UPDATE_QUANTILE,\n        value\n    })\n}\n\nexport default modelMap.reduce((aggr, curr)=>({\n    ...aggr, \n    ['update'+curr.name]:generateOptions(curr.name)\n}), {\n    //updateCalibration:generateOptions('calibrate'),\n    updateSlider,\n    updateQuantile,\n    updateOptionForm\n})\n\n","import {\n    getCalculation, \n    getCalibration, \n    getVaRData, \n    getMaturities,\n    getOptions\n} from '../Actions/lambda'\nimport actionParameters from '../Actions/parameters' \nimport {\n    generateConvertSpecificToAdvanced, \n    generateConvertAdvancedToSpecific\n} from '../Utils/conversionUtils'\nconst { \n    updateOptionForm, \n    updateSlider, \n    updateQuantile\n}=actionParameters\n\nexport const mapStateToProps=({form})=>form //includes a lot\n\nexport const mapDispatchToProps=dispatch=>({\n    submitCalculator:(specificParameters, model)=>()=>{\n        getCalculation(generateConvertSpecificToAdvanced(model)(specificParameters), dispatch)\n    },\n    submitCalibrator:(specificParameters, optionValues, model, range)=>()=>{\n        const {k, prices}=optionValues\n        const advancedParameters=generateConvertSpecificToAdvanced(model)(specificParameters)\n        const calibrateParameters=model.parameters.reduce((aggr, curr)=>{\n            if(curr.feature==='variable'){\n                return {\n                    ...aggr, \n                    variable:{\n                        ...aggr.variable, \n                        [curr.key]:advancedParameters[curr.key]\n                    }\n                }\n            }\n            return {\n                ...aggr,\n                [curr.key]:advancedParameters[curr.key]\n            }\n        }, {constraints:range, k, prices})\n        getCalibration(\n            model.name, \n            generateConvertAdvancedToSpecific(model)\n        )(\n            calibrateParameters, \n            dispatch\n        )\n    },\n    submitDensity:(specificParameters, model)=>()=>{\n        getVaRData(generateConvertSpecificToAdvanced(model)(specificParameters), dispatch)\n    },\n    submitMaturities:({ticker}, model)=>()=>getMaturities(model.name)({ticker}, dispatch),\n    getOptions:({ticker, maturity, minOpenInterest, minRelativeBidAskSpread}, model)=>()=>getOptions(model.name)({ticker, maturity, minOpenInterest, minRelativeBidAskSpread}, dispatch),\n    generateUpdateParameters:model=>(key, value, validateStatus)=>{\n        actionParameters['update'+model.name](key, value, validateStatus, dispatch)\n    },\n    updateOptionForm:(key, value, validateStatus)=>updateOptionForm(key, value, validateStatus, dispatch),\n    updateSlider:(key, value)=>{\n        updateSlider(key, value, dispatch)\n    },\n    updateQuantile:(key, value)=>updateQuantile(value, dispatch),\n    \n})","import {generateConvertAdvancedToSpecific} from '../Utils/conversionUtils'\n\nconst isNumeric=x=>!isNaN(x) && isFinite(x)\nexport const rangeValidator=(min, max)=>val=>{\n    const x=parseFloat(val)\n    return isNumeric(x)&&x>=min&&x<=max?x:false\n}\n\nexport const isNotComplete=num=>{\n    const strNum=num.toString()\n    return strNum.indexOf('.') === strNum.length - 1\n}\n\nexport const createBounds=(min, max)=>({\n    fn:rangeValidator(min, max),\n    help: `Must be a number between ${min} and ${max}`\n})\nexport const validateAll=parameters=>Object.keys(parameters).some(val=>parameters[val])\n\nexport const arrayValidator={\n    fn:rangeValidator(0, 1000000),\n    help:'Requires positive, comma separated numbers like \"2, 3, 4\"'\n}\n\nconst getSubKeys=key=>(arr, obj)=>arr.reduce((aggr, curr)=>({...aggr, [curr]:obj[curr][key]}), {})\nconst ifExistsThenShow=(val, defaultVal)=>val===undefined?defaultVal:val\n\nexport const convertParametersToSpecificAndAddValidation=(parameters, convertAdvancedToSpecific)=>ranges=>{\n    const rangeKeys=Object.keys(ranges)\n    const upperRanges=getSubKeys('upper')(rangeKeys, ranges)\n    const lowerRanges=getSubKeys('lower')(rangeKeys, ranges)\n    const convertedUpperRanges=convertAdvancedToSpecific(upperRanges)\n    const convertedLowerRanges=convertAdvancedToSpecific(lowerRanges)\n    return parameters.map(v=>({\n        ...v, \n        validator:createBounds(convertedLowerRanges[v.key], convertedUpperRanges[v.key]),\n        bounds:{\n            lower:ifExistsThenShow(convertedLowerRanges[v.key], 0), \n            upper:ifExistsThenShow(convertedUpperRanges[v.key], 100)\n        }\n    }))\n}\n\nexport const getFormItems=(model, modelParameters, range)=>convertParametersToSpecificAndAddValidation(\n    modelParameters,\n    generateConvertAdvancedToSpecific(model)\n)(range)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Col } from 'antd'\nimport { CustomSlider } from '../HelperComponents/FormHelper'\nimport {mapStateToProps, mapDispatchToProps} from '../reduxInjections'\nimport {getParametersByFeature} from '../../Utils/conversionUtils'\nimport { getFormItems} from '../helperValidators'\nconst InputSettings=({\n    model,\n    updateSlider,\n    range\n})=>getFormItems(model, getParametersByFeature(model.parameters, 'variable'), range.defaultRange).map(({bounds, key, label})=>(\n    <Col xs={24} key={key} >\n        <CustomSlider \n            objKey={key}\n            range={range.currentRange[key]||bounds} \n            min={bounds.lower} \n            max={bounds.upper} \n            label={label}\n            onChange={updateSlider}\n        />\n    </Col>\n))\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(InputSettings)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { CustomFormItemInput, CustomUpdateButton } from './FormHelper'\nimport {PARAMETERS, VALIDATION} from '../../Utils/constants'\nimport {getCalculationParameters} from '../../Utils/conversionUtils'\nimport { Col } from 'antd'\nimport PropTypes from 'prop-types'\nimport { flexObj } from '../globalOptions'\nimport {validateAll, getFormItems} from '../helperValidators'\nimport { mapStateToProps, mapDispatchToProps } from '../reduxInjections'\n\nconst CommonInputsD=({model, modelParameters, generateUpdateParameters, range, ...form})=>getFormItems(model, modelParameters, range.defaultRange).map(({key, validator, label, toolTip}, index)=>(\n    <Col {...flexObj} key={index}>\n        <CustomFormItemInput \n            label={label}\n            objKey={key}\n            parms={form[model.name+PARAMETERS]}\n            validationResults={form[model.name+VALIDATION][key]}\n            validator={validator}\n            toolTip={toolTip}\n            onChange={generateUpdateParameters(model)}\n        />\n    </Col>\n))\nCommonInputsD.propTypes={\n    formItems:PropTypes.arrayOf(PropTypes.shape({\n        key:PropTypes.string.isRequired,\n        validator:PropTypes.shape({\n            fn:PropTypes.func.isRequired,\n            help:PropTypes.string.isRequired\n        }),\n        label:PropTypes.string.isRequired,\n        toolTip:PropTypes.string.isRequired\n    }))\n}\nexport const CommonInputs=connect(mapStateToProps, mapDispatchToProps)(CommonInputsD)\n\nconst CommonCalculatorButtonD=({submitCalculator, model,  ...form})=>(\n    <Col {...flexObj} >\n        <CustomUpdateButton\n            disabled={validateAll(form[model.name+VALIDATION])}\n            onClick={submitCalculator(getCalculationParameters(form, model), model)}\n            text='Calculate'\n            loading={form.progress.isCalculationInProgress}\n        />\n    </Col>\n)\nexport const CommonCalculatorButton=connect(mapStateToProps, mapDispatchToProps)(CommonCalculatorButtonD)\n\nconst CommonCalibratorButtonD=({submitCalibrator, model, progress, optionValues, range, ...form})=>(\n    <Col {...flexObj} >\n        <CustomUpdateButton\n            disabled={optionValues.prices.length===0}\n            onClick={submitCalibrator(form[model.name+PARAMETERS], optionValues, model, range.currentRange)}\n            text='Calibrate'\n            loading={progress.isCalibationInProgress}\n        />\n    </Col>\n)\nexport const CommonCalibratorButton=connect(mapStateToProps, mapDispatchToProps)(CommonCalibratorButtonD)\n","import React from 'react'\nimport { CommonInputs, CommonCalculatorButton } from '../HelperComponents/CommonInputs'\nimport {getParametersByFeature} from '../../Utils/conversionUtils'\nexport default ({model})=>[\n    <CommonInputs \n        key='variableparameters'\n        model={model}\n        modelParameters={getParametersByFeature(model.parameters, 'variable')}\n    />,\n    <CommonCalculatorButton\n        key='updatebutton'\n        model={model}\n    />\n]\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Col } from 'antd'\nimport { flexObj } from '../globalOptions'\nimport {\n    CustomFormItemTextInput, \n    CustomUpdateButton\n} from '../HelperComponents/FormHelper'\nimport {mapStateToProps, mapDispatchToProps} from '../reduxInjections'\nconst validator={\n    fn:()=>true,\n    help:'Nothing returned.  Perhaps you chose an invalid ticker?'\n}\nconst OptionMaturities=({\n    updateOptionForm,\n    submitMaturities,\n    optionValues,\n    invalidTicker,\n    model,\n    progress\n})=>[\n<Col {...flexObj} key='ticker'>\n    <CustomFormItemTextInput \n        objKey='ticker' \n        parms={optionValues}\n        toolTip=\"This is the ticker of the underlying. For example, AAPL\"\n        label=\"Ticker\"\n        validator={validator}\n        validationResults={invalidTicker?'error':false}\n        onChange={updateOptionForm}\n    />\n</Col>,\n<Col {...flexObj} key='submitTicker'>\n    <CustomUpdateButton \n        disabled={optionValues.ticker.length===0}\n        onClick={submitMaturities({ticker:optionValues.ticker}, model)}\n        text=\"Get Maturities\"\n        loading={progress.isMaturityInProgress}\n    />\n</Col>\n]\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(OptionMaturities)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Col } from 'antd'\nimport {SplineCurves} from '../../Graphs/Graphs.js'\nimport {CustomFormItemDateDrop, CustomUpdateButton, CustomFormItemInput} from '../HelperComponents/FormHelper'\nimport { mapDispatchToProps } from '../reduxInjections'\nimport { flexObj } from '../globalOptions'\nimport {createBounds} from '../helperValidators'\nconst validatorBidAsk=createBounds(0, 1)\nconst validatorOpenInterest=createBounds(0, 1000000)\nconst openInterestKey='minOpenInterest'\nconst bidAskKey='minRelativeBidAskSpread'\nconst OptionPrices=({\n    updateOptionForm,\n    getOptions,\n    model,\n    spline,\n    optionValues,\n    optionValuesValidation,\n    progress\n})=>[\n<Col {...flexObj} key='selectMaturity'>\n    <CustomFormItemDateDrop \n        objKey='maturity' \n        parms={optionValues}\n        options={optionValues.maturityOptions}\n        toolTip=\"Select the option maturity\"\n        label=\"Maturity\"\n        onChange={updateOptionForm}\n    />\n</Col>,\n<Col {...flexObj} key='openInterest'>\n    <CustomFormItemInput \n        objKey={openInterestKey} \n        parms={optionValues}\n        validationResults={optionValuesValidation[openInterestKey]}\n        validator={validatorOpenInterest}\n        toolTip=\"Select the minimum open interest\"\n        label=\"Open Interest\"\n        onChange={updateOptionForm}\n    />\n</Col>,\n<Col {...flexObj} key='bidAsk'>\n    <CustomFormItemInput \n        objKey={bidAskKey} \n        validator={validatorBidAsk}\n        parms={optionValues}\n        validationResults={optionValuesValidation[bidAskKey]}\n        options={optionValues.maturityOptions}\n        toolTip=\"Select the minimum relative bid-ask spread\"\n        label=\"Bid-Ask Spread\"\n        onChange={updateOptionForm}\n    />\n</Col>,\n<Col {...flexObj} key='getPrices'>\n    <CustomUpdateButton\n        disabled={!optionValues.maturity}\n        onClick={getOptions({\n            ticker:optionValues.ticker, \n            maturity:optionValues.maturity,\n            [openInterestKey]:optionValues[openInterestKey],\n            [bidAskKey]:optionValues[bidAskKey]}, model)}\n        text=\"Get Option Prices\"\n        loading={progress.isGetOptionsInProgress}\n    />  \n</Col>,\n<Col offset={4} xs={16} key='spline'>\n    <SplineCurves  spline={spline} title='Fit' xLabel='Log Strikes' yLabel='Transformed Option Prices'/>\n</Col>\n\n]\nconst mapStateToProps=({graph, form})=>({...graph, ...form})\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(OptionPrices)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Col, Alert } from 'antd'\nimport {mapStateToProps } from '../reduxInjections'\nimport {flexObj} from '../globalOptions'\nimport {PARAMETERS} from '../../Utils/constants'\n\nconst OptionMSE=({\n    model, \n    ...form\n})=>(\n    <Col {...flexObj} key={4}>\n        {form[model.name+PARAMETERS].mse?<Alert message={`Mean Squared Error: ${form[model.name+PARAMETERS].mse}`} type=\"success\" />:null}  \n    </Col>\n)\nexport default connect(\n    mapStateToProps\n)(OptionMSE)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Divider } from 'antd'\n/**Components */\nimport {CommonCalibratorButton} from '../HelperComponents/CommonInputs'\nimport OptionMaturities from './OptionMaturities' \nimport OptionPrices from './OptionPrices' \nimport OptionMSE from './OptionMSE' \n\nconst InputCalibrator=({\n    model\n})=>[\n    <OptionMaturities key='maturities' model={model}/>,\n    <Divider key='div1'/>,\n    <OptionPrices key='optionprices' model={model}/>,\n    <Divider key='div2'/>,\n    <CommonCalibratorButton key='calibrate' model={model}/>,\n    <OptionMSE key='displayconvergence' model={model}/>\n]\n\nInputCalibrator.propTypes={\n    model:PropTypes.object.isRequired\n}\n\nexport default InputCalibrator","import React from 'react'\nimport { Collapse } from 'antd'\nimport {mapStateToProps} from '../reduxInjections'\nimport {PARAMETERS} from '../../Utils/constants'\nimport { connect } from 'react-redux'\nimport {generateConvertSpecificToAdvanced} from '../../Utils/conversionUtils'\nconst Panel = Collapse.Panel\nconst noBorder={border: 0}\nexport default connect(mapStateToProps)(({model, ...form})=>(\n    <Collapse bordered={false} >\n        <Panel header=\"Show Raw Json\" key=\"1\" style={noBorder} >\n            <pre>\n                <code>\n                    {JSON.stringify(\n                        generateConvertSpecificToAdvanced(\n                            model\n                        )(\n                            form[model.name+PARAMETERS]\n                        ), null, 2\n                    )}\n                </code>\n            </pre>\n        </Panel>\n    </Collapse>\n))\n","import React from 'react'\nimport { Route } from 'react-router-dom'\nimport { Row } from 'antd'\nimport { Divider } from 'antd'\n/**Helpers and constants */\nimport { gutter } from './globalOptions'\nimport {getParametersByFeature} from '../Utils/conversionUtils'\n\n/**Components */\nimport InputSettings from  './Settings/InputSettings'\nimport InputCalculator from  './Calculator/InputCalculator'\nimport InputCalibrator from './Calibrator/InputCalibrator'\nimport { CommonInputs } from './HelperComponents/CommonInputs'\n\nimport ShowJson from './ShowJSON/ShowJson'\n\n\nexport default ({model, basePath})=>[\n    <Row gutter={gutter} key='inputrow'>\n        <CommonInputs \n            model={model}\n            modelParameters={getParametersByFeature(model.parameters, 'static')}\n        />\n        <Divider/>\n        <Route \n            path={`${basePath}/manual`} exact \n            render={()=>(<InputCalculator model={model}/>)}\n        />\n        <Route \n            path={`${basePath}/calibration`} exact \n            render={()=>(<InputCalibrator model={model}/>)}\n        />\n        <Route \n            path={`${basePath}/settings`} exact \n            render={()=>(<InputSettings model={model}/>)}\n        />\n    </Row>,\n    <Row key='jsonrow'>\n        <ShowJson model={model}/>\n    </Row>\n]","import React from 'react'\nimport { modalInputsIndex } from '../Routes/routeDefinitions'\nimport ModelForm from './ModelForm'\nimport { Modal, Menu } from 'antd'\nimport { Link } from 'react-router-dom'\nconst getBaseUrl=path=>path.split(\"/:\")[0]\n\nconst MenuTypes=({match, basePath})=>(\n    <Menu theme=\"light\" mode=\"horizontal\" selectedKeys={[match.params[modalInputsIndex]]}>\n        <Menu.Item key=\"manual\">\n            <Link to={`${basePath}/manual`}>Manual</Link>\n        </Menu.Item>\n        <Menu.Item key=\"calibration\">\n            <Link to={`${basePath}/calibration`}>Calibration</Link>\n        </Menu.Item>\n        <Menu.Item key=\"settings\">\n            <Link to={`${basePath}/settings`}>Settings</Link>\n        </Menu.Item>\n    </Menu>\n) \n\n\nconst ModalInputs=({history, match, model, baseUrl})=>{\n    const closeModal=()=>history.push(baseUrl)\n    const baseAndPathUrl=getBaseUrl(match.path)\n    return (\n    <Modal \n        title=\"Attributes\" \n        visible={true} \n        onOk={closeModal} \n        onCancel={closeModal} \n        width={900}\n        footer={null}\n    >\n        <MenuTypes match={match} basePath={baseAndPathUrl}/>\n        <ModelForm basePath={baseAndPathUrl} model={model}/>\n    </Modal>\n    )\n}\nexport default ModalInputs","import React from 'react'\nimport { createArray } from '../Utils/utils'\nimport {getCalculationParameters} from '../Utils/conversionUtils'\nimport { CustomNumberDrop } from './HelperComponents/FormHelper'\nimport {mapStateToProps, mapDispatchToProps} from './reduxInjections'\nimport { connect } from 'react-redux'\nimport { Button, Row, Col} from 'antd'\nimport {    \n    gutter\n} from './globalOptions'\n\nconst quantileOptions=createArray(.001, .05, .001)\n\nconst QuantileInputs=({model, updateQuantile, submitDensity, ...form})=>(\n    <Row gutter={gutter}>\n        <Col xs={24} md={16}>\n            <CustomNumberDrop \n                objKey='quantile' \n                parms={form}\n                options={quantileOptions}\n                round={3}\n                toolTip=\"This is the quantile of the asset return distribution.  A .01 quantile translates to a 99% VaR\"\n                label=\"Quantile\"\n                onChange={updateQuantile}\n            />\n        </Col>\n        <Col xs={24} md={8}>\n            <Button \n                className='side-button submit-button' type=\"primary\" \n                onClick={submitDensity(getCalculationParameters(form, model), model)}\n            >Update</Button>\n        </Col>\n    </Row>\n)\n\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(QuantileInputs)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Card, Alert } from 'antd'\nimport { rootSensitivity, rootModel } from '../Routes/routeDefinitions'\nimport { Route, Link } from 'react-router-dom'\nimport PropTypes from 'prop-types'\nimport { PARAMETERS } from '../Utils/constants'\nimport { generateConvertSpecificToAdvanced } from '../Utils/conversionUtils'\nimport {\n    sensitivities\n} from '../appSkeleton'\n\nconst [, , thetaName]=sensitivities\n//exported for testing purposes\nexport const switchTheta=(adaV, v0, sensitivity, Component)=>(sensitivity===thetaName&&(adaV>0||v0!==1))&&Component\n//exported for testing purposes (in App.test.js)\nexport const ThetaWarning=({adaV, v0})=>(\n<Alert\n\tmessage=\"Warning\"\n\tdescription={`Theta is inaccurate when Vol of Vol>0 (currently ${adaV}) or V0!=1 (currently ${v0})`}\n\ttype=\"warning\"\n\tshowIcon\n/>\n)\nconst NoSensitivity=({sensitivity, title})=>(\n\t<p>Attribute {sensitivity} is not available for {title}!</p>\n)\nconst CardPlot=({Algorithm, HelpComponent, url, match, title, model, ...form})=>{\n\tconst rootModelLink=match.params[rootModel]\n\tconst rootSensitivityLink=match.params[rootSensitivity]\n\tconst {adaV, v0}=generateConvertSpecificToAdvanced(model)(form[model.name+PARAMETERS])\n\tconst localUrl=`/${rootModelLink}/${rootSensitivityLink}${url}`\n\tconst Component=Algorithm[rootSensitivityLink]\n\tconst IVComponent=Algorithm.IV\t\n\treturn (\n\t\t<Card \n\t\t\ttitle={title} \n\t\t\tbordered={false} \n\t\t\textra={ <Link to={localUrl}>?</Link> }\n\t\t>\n\t\t\t{switchTheta(adaV, v0, rootSensitivityLink, Component)?<ThetaWarning adaV={adaV} v0={v0}/>:null}\n\t\t\t{Component?<Component/> :<NoSensitivity sensitivity={rootSensitivityLink} title={title}/>}\n\t\t\t<IVComponent />\n\t\t\t<Route path={localUrl} exact component={HelpComponent}/>\n\t\t</Card>\n\t)\n}\nCardPlot.propTypes={\n    Algorithm:PropTypes.shape({\n        IV:PropTypes.func.isRequired //React component\n    }).isRequired,\n    HelpComponent:PropTypes.func.isRequired,\n    url:PropTypes.string.isRequired,\n    match:PropTypes.shape({\n        params:PropTypes.object\n    }),\n    title:PropTypes.string.isRequired\n}\n\nconst mapStateToProps=({form})=>form\nexport default connect(mapStateToProps)(CardPlot)","import React from 'react'\nimport './App.css'\nimport { sensitivities } from './appSkeleton'\nimport { modelMap } from './modelSkeleton'\nimport { FangOost, CarrMadan, FSTS, FangOostHelp, FSTSHelp, CarrMadanHelp } from './Graphs/Algorithms'\nimport { Density } from './Graphs/Density'\nimport LoadData from './LoadData'\nimport ModalInputs from './Forms/ModalInputs'\nimport QuantileInputs from './Forms/QuantileInputs'\nimport CardPlot from './Cards/CardPlot'\nimport { Row, Col, Dropdown, Layout, Card, Menu } from 'antd'\nimport { Route, Link, Redirect, Switch } from 'react-router-dom'\nimport { upperFirstLetter } from './Utils/utils'\nimport { rootModel, rootSensitivity, modalInputsIndex, inputsUrl } from './Routes/routeDefinitions'\nconst style = {\n\tbackground: 'whitesmoke',\n\tmargin: 0,\n\tminHeight: 280\n}\n\nconst [priceName]=sensitivities\nconst [FirstModel]=modelMap\nconst Content=Layout.Content\nconst paramUrl=`/:${rootModel}/:${rootSensitivity}`\nconst baseUrl='/'\nconst redirectUrl=`${FirstModel.name}/${priceName}`\nconst fangOostHelpUrl='/fangoost/help'\nconst carrMadanHelpUrl='/carrmadan/help'\nconst fstsHelpUrl='/fsts/help'\n\nconst floatRight={ float:'right',  }\nconst colBreaks={ sm:24, md:12, xl:6 }\nconst modelChoiceGenerator = handleMenuClick=>(\n\t<Menu onClick={e=>handleMenuClick(e.key)}>\n\t{modelMap.map(({name, label})=>(\n\t\t<Menu.Item key={name}>{label}</Menu.Item>\n\t))}\n\t</Menu>\n)\nconst colorStyle={backgroundColor: 'whitesmoke'}\nconst MenuSensitivities=({history, sensitivity, modelLink, label})=>{\n\tconst goToInputModal=modelLink=>{\n\t\thistory.push(`/${modelLink}/${sensitivity}/${inputsUrl}/manual`)\n\t}\n\treturn (\n\t\t<Menu \n\t\t\ttheme=\"light\" \n\t\t\tmode=\"horizontal\" \n\t\t\tselectedKeys={ [sensitivity] }\n\t\t\tstyle={colorStyle}\n\t\t>\n\t\t\t{\n\t\t\t\tsensitivities.map(sensitivity=>(\n\t\t\t\t\t<Menu.Item key={sensitivity}>\n\t\t\t\t\t\t<Link to={`/${modelLink}/${sensitivity}`}> {upperFirstLetter(sensitivity)} </Link>\n\t\t\t\t\t</Menu.Item>\n\t\t\t\t))\n\t\t\t}\n\t\t\t<div>\n\t\t\t\t<Dropdown.Button \n\t\t\t\t\tkey={1}\n\t\t\t\t\tstyle={floatRight}\n\t\t\t\t\tonClick={()=>goToInputModal(modelLink)}\n\t\t\t\t\toverlay={modelChoiceGenerator(goToInputModal)}\n\t\t\t\t>\n\t\t\t\t\t{label}: Inputs\n\t\t\t\t</Dropdown.Button>\n\t\t\t</div>\n\t\t</Menu>\n\t)\t\n}\n\nconst WrapModalInputs=({model, modelLink, sensitivity})=>{\n\tconst baseUrl=`/${modelLink}/${sensitivity}`\n\treturn (\n\t<Route \n\t\tpath={`${baseUrl}/${inputsUrl}/:${modalInputsIndex}`} \n\t\trender={({match, history})=>(\n\t\t\t<ModalInputs \n\t\t\t\tmodel={model}\n\t\t\t\tbaseUrl={baseUrl}\n\t\t\t\tmatch={match}\n\t\t\t\thistory={history}\n\t\t\t/> \n\t\t)}\n\t/>\n\t)\n}\nconst HoldCards=({match, ...rest})=>{\n\tconst rootModelLink=match.params[rootModel]\n\tconst rootSensitivityLink=match.params[rootSensitivity]\n\tconst currentModel=modelMap.find(({name})=>rootModelLink===name)\n\treturn [\n\t<LoadData key={-1} model={currentModel}/>,\n\t<WrapModalInputs \n\t\tsensitivity={rootSensitivityLink}\n\t\tmodelLink={rootModelLink}\n\t\tmodel={currentModel}\n\t\tkey={0}\n\t/>,\n\t<MenuSensitivities \n\t\tsensitivity={rootSensitivityLink}\n\t\tmodelLink={rootModelLink}\n\t\tmodel={currentModel}\n\t\tlabel={currentModel.label}\n\t\t{...rest} \n\t\tkey={1}\n\t/>,\n\t<Row gutter={16} type=\"flex\" justify=\"space-between\" key={2}>\n\t\t<Col {...colBreaks} >\n\t\t\t<CardPlot\n\t\t\t\tAlgorithm={CarrMadan} \n\t\t\t\ttitle=\"Carr-Madan\" \n\t\t\t\tHelpComponent={CarrMadanHelp}\n\t\t\t\turl={carrMadanHelpUrl}\n\t\t\t\tmatch={match}\n\t\t\t\tmodel={currentModel}\n\t\t\t\t{...rest}\n\t\t\t/>\n\t\t</Col>\n\t\t<Col {...colBreaks} >\n\t\t\t<CardPlot \n\t\t\t\tAlgorithm={FSTS} \n\t\t\t\ttitle=\"Fourier Space Time Step\" \n\t\t\t\tHelpComponent={FSTSHelp}\n\t\t\t\turl={fstsHelpUrl}\n\t\t\t\tmatch={match}\n\t\t\t\t{...rest}\n\t\t\t\tmodel={currentModel}\n\t\t\t/>\n\t\t</Col>\n\t\t<Col {...colBreaks} >\n\t\t\t<CardPlot \n\t\t\t\tAlgorithm={FangOost} \n\t\t\t\ttitle=\"Fang-Oosterlee\" \n\t\t\t\tHelpComponent={FangOostHelp}\n\t\t\t\turl={fangOostHelpUrl}\n\t\t\t\tmatch={match}\n\t\t\t\tmodel={currentModel}\n\t\t\t\t{...rest}\n\t\t\t/>\n\t\t</Col>\n\t\t<Col {...colBreaks} >\n\t\t\t<Card title=\"Density\" bordered={false} >\n\t\t\t\t<Density />\n\t\t\t\t<QuantileInputs model={currentModel}/>\n\t\t\t</Card>\n\t\t</Col>\n\t</Row>\n\t]\n}\n\nexport default ()=>(\n\t<Layout>\n\t\t<Content style={style}>\n\t\t\t<div className='container'>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path={paramUrl} component={HoldCards}/>\n\t\t\t\t\t<Redirect from={baseUrl} exact to={redirectUrl} />\n\t\t\t\t</Switch>\n\t\t\t</div>\n\t\t</Content>\n\t</Layout>\n)\n\n","export const rootSensitivity='sensitivity'\nexport const rootModel='model'\nexport const modalInputsIndex='inputIndex'\nexport const inputsUrl='inputs'","import React from 'react'\nimport { render } from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { createStore } from 'redux'\nimport reducer from './Reducers/index'\nimport App from './App'\nimport { HashRouter } from 'react-router-dom'\nlet store = createStore(reducer)\nrender(\n  <Provider store={store}>\n    <HashRouter basename='/'>\n      <App />\n    </HashRouter>\n  </Provider>,\n  document.getElementById('root')\n)"],"sourceRoot":""}